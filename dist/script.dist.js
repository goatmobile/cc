(()=>{var kt=Object.create;var Oe=Object.defineProperty;var Ct=Object.getOwnPropertyDescriptor;var St=Object.getOwnPropertyNames;var Tt=Object.getPrototypeOf,Mt=Object.prototype.hasOwnProperty;var ae=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Bt=(t,e,n,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of St(e))!Mt.call(t,l)&&l!==n&&Oe(t,l,{get:()=>e[l],enumerable:!(s=Ct(e,l))||s.enumerable});return t};var Et=(t,e,n)=>(n=t!=null?kt(Tt(t)):{},Bt(e||!t||!t.__esModule?Oe(n,"default",{value:t,enumerable:!0}):n,t));var tt=ae((_n,et)=>{"use strict";var Ut="bold|bolder|lighter|[1-9]00",Ot="italic|oblique",Lt="small-caps",Nt="ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",jt="px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q",Ze=`'([^']+)'|"([^"]+)"|[\\w\\s-]+`,Ht=new RegExp(`(${Ut}) +`,"i"),Wt=new RegExp(`(${Ot}) +`,"i"),zt=new RegExp(`(${Lt}) +`,"i"),qt=new RegExp(`(${Nt}) +`,"i"),Ft=new RegExp(`([\\d\\.]+)(${jt}) *((?:${Ze})( *, *(?:${Ze}))*)`),we={},Gt=16;et.exports=t=>{if(we[t])return we[t];let e=Ft.exec(t);if(!e)return;let n={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(e[1]),unit:e[2],family:e[3].replace(/["']/g,"").replace(/ *, */g,",")},s,l,a,f,v=t.substring(0,e.index);switch((s=Ht.exec(v))&&(n.weight=s[1]),(l=Wt.exec(v))&&(n.style=l[1]),(a=zt.exec(v))&&(n.variant=a[1]),(f=qt.exec(v))&&(n.stretch=f[1]),n.unit){case"pt":n.size/=.75;break;case"pc":n.size*=16;break;case"in":n.size*=96;break;case"cm":n.size*=96/2.54;break;case"mm":n.size*=96/25.4;break;case"%":break;case"em":case"rem":n.size*=Gt/.75;break;case"q":n.size*=96/25.4/4;break}return we[t]=n}});var nt=ae(re=>{var Vt=tt();re.parseFont=Vt;re.createCanvas=function(t,e){return Object.assign(document.createElement("canvas"),{width:t,height:e})};re.createImageData=function(t,e,n){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(t);case 2:return new ImageData(t,e);default:return new ImageData(t,e,n)}};re.loadImage=function(t,e){return new Promise(function(n,s){let l=Object.assign(document.createElement("img"),e);function a(){l.onload=null,l.onerror=null}l.onload=function(){a(),n(l)},l.onerror=function(){a(),s(new Error('Failed to load the image "'+t+'"'))},l.src=t})}});var ot=ae((at,fe)=>{var rt=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")},Jt=function(){if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return rt()}try{return __global__||rt()}finally{delete Object.prototype.__global__}},xe=function(){let t=Jt();return typeof t.process<"u"&&t.process.versions&&t.process.versions.node};(function(t,e){"use strict";typeof define=="function"&&define.amd?define([],e):typeof fe=="object"&&fe.exports?fe.exports=e():t.resemble=e()})(at,function(){"use strict";var t,e,n;xe()?(e=nt(),t=e.Image,n=e.loadImage):t=Image;function s(m,o){if(xe())return e.createCanvas(m,o);var _=document.createElement("canvas");return _.width=m,_.height=o,_}var l={},a=l,f=function(m){var o=1,_={red:255,green:0,blue:255,alpha:255},b={r:0,g:0,b:0,a:0},h={flat:function(r,i){r[i]=_.red,r[i+1]=_.green,r[i+2]=_.blue,r[i+3]=_.alpha},movement:function(r,i,u,c){r[i]=(c.r*(_.red/255)+_.red)/2,r[i+1]=(c.g*(_.green/255)+_.green)/2,r[i+2]=(c.b*(_.blue/255)+_.blue)/2,r[i+3]=c.a},flatDifferenceIntensity:function(r,i,u,c){r[i]=_.red,r[i+1]=_.green,r[i+2]=_.blue,r[i+3]=ge(u,c)},movementDifferenceIntensity:function(r,i,u,c){var d=ge(u,c)/255*.8;r[i]=(1-d)*(c.r*(_.red/255))+d*_.red,r[i+1]=(1-d)*(c.g*(_.green/255))+d*_.green,r[i+2]=(1-d)*(c.b*(_.blue/255))+d*_.blue,r[i+3]=c.a},diffOnly:function(r,i,u,c){r[i]=c.r,r[i+1]=c.g,r[i+2]=c.b,r[i+3]=c.a}},p=h.flat,C,y,T,E,R=1200,W=!0,D={},S=[],F=[],x={red:16,green:16,blue:16,alpha:16,minBrightness:16,maxBrightness:240},H=!1,X=!1,de=!1,z=!1,Se;function ge(r,i){return(Math.abs(r.r-i.r)+Math.abs(r.g-i.g)+Math.abs(r.b-i.b))/3}function Te(r,i,u,c,d){return r>(d.left||0)&&r<(d.right||u)&&i>(d.top||0)&&i<(d.bottom||c)}function dt(r,i,u,c,d){var k=!0,B,I,A,M,P;if(y instanceof Array){for(M=!1,B=0;B<y.length;B++)if(I=y[B],Te(r,i,u,c,I)){M=!0;break}}if(T instanceof Array){for(P=!0,B=0;B<T.length;B++)if(A=T[B],Te(r,i,u,c,A)){P=!1;break}}return E?ge(d,E)!==0:M===void 0&&P===void 0?!0:M===!1&&P===!0?!1:((M===!0||P===!0)&&(k=!0),(M===!1||P===!1)&&(k=!1),k)}function he(){var r=F.length,i;for(i=0;i<r;i++)typeof F[i]=="function"&&F[i](D)}function Me(r,i,u){var c,d;for(c=0;c<r;c++)for(d=0;d<i;d++)u(c,d)}function gt(r,i,u){var c=0,d=0,k=0,B=0,I=0,A=0,M=0,P=0;Me(i,u,function(j,G){var Q=(G*i+j)*4,q=r[Q],N=r[Q+1],L=r[Q+2],ee=r[Q+3],U=Ae(q,N,L);q===N&&q===L&&ee&&(q===0?P++:q===255&&M++),c++,d+=q/255*100,k+=N/255*100,B+=L/255*100,I+=(255-ee)/255*100,A+=U/255*100}),D.red=Math.floor(d/c),D.green=Math.floor(k/c),D.blue=Math.floor(B/c),D.alpha=Math.floor(I/c),D.brightness=Math.floor(A/c),D.white=Math.floor(M/c*100),D.black=Math.floor(P/c*100),he()}function Be(r,i){var u=r.width,c=r.height;de&&S.length===1&&(u=S[0].width,c=S[0].height);var d=s(u,c),k;d.getContext("2d").drawImage(r,0,0,u,c),k=d.getContext("2d").getImageData(0,0,u,c),S.push(k),i(k,u,c)}function _e(r,i){var u,c=new t;c.setAttribute||(c.setAttribute=function(){}),W&&c.setAttribute("crossorigin","anonymous"),c.onerror=function(d){c.onload=null,c.onerror=null;let k=d?d+"":"Unknown error";S.push({error:`Failed to load image '${r}'. ${k}`}),i()},c.onload=function(){c.onload=null,c.onerror=null,Be(c,i)},typeof r=="string"?(c.src=r,!xe()&&c.complete&&c.naturalWidth>0&&c.onload()):typeof r.data<"u"&&typeof r.width=="number"&&typeof r.height=="number"?(S.push(r),i(r,r.width,r.height)):typeof Buffer<"u"&&r instanceof Buffer?n(r).then(function(d){c.onload=null,c.onerror=null,Be(d,i)}).catch(function(d){S.push({error:d?d+"":"Image load error."}),i()}):(u=new FileReader,u.onload=function(d){c.src=d.target.result},u.readAsDataURL(r))}function Y(r,i,u){var c=Math.abs(r-i);return typeof r>"u"||typeof i>"u"?!1:r===i?!0:c<x[u]}function Ee(r,i){var u=Y(r.a,i.a,"alpha"),c=Y(r.brightness,i.brightness,"minBrightness");return c&&u}function Ae(r,i,u){return .3*r+.59*i+.11*u}function ht(r,i){var u=r.r===i.r,c=r.g===i.g,d=r.b===i.b;return u&&c&&d}function _t(r,i){var u=Y(r.r,i.r,"red"),c=Y(r.g,i.g,"green"),d=Y(r.b,i.b,"blue"),k=Y(r.a,i.a,"alpha");return u&&c&&d&&k}function pt(r,i){return Math.abs(r.brightness-i.brightness)>x.maxBrightness}function mt(r,i,u){var c=r/255,d=i/255,k=u/255,B=Math.max(c,d,k),I=Math.min(c,d,k),A,M;if(B===I)A=0;else switch(M=B-I,B){case c:A=(d-k)/M+(d<k?6:0);break;case d:A=(k-c)/M+2;break;case k:A=(c-d)/M+4;break;default:A/=6}return A}function De(r,i,u,c,d,k){var B,I=1,A,M,P=0,j=0,G=0;for($e(r),A=I*-1;A<=I;A++)for(M=I*-1;M<=I;M++)if(!(A===0&&M===0)){if(B=((c+M)*k+(d+A))*4,!pe(b,i,B,u))continue;if(Z(b),$e(b),pt(r,b)&&P++,ht(r,b)&&G++,Math.abs(b.h-r.h)>.3&&j++,j>1||P>1)return!0}return G<2}function vt(r,i,u){C!=="diffOnly"&&(r[i]=u.r,r[i+1]=u.g,r[i+2]=u.b,r[i+3]=u.a*o)}function Ie(r,i,u){C!=="diffOnly"&&(r[i]=u.brightness,r[i+1]=u.brightness,r[i+2]=u.brightness,r[i+3]=u.a*o)}function pe(r,i,u){return i.length>u?(r.r=i[u],r.g=i[u+1],r.b=i[u+2],r.a=i[u+3],!0):!1}function Z(r){r.brightness=Ae(r.r,r.g,r.b)}function $e(r){r.h=mt(r.r,r.g,r.b)}function bt(r,i,u,c){var d=r.data,k=i.data,B,I,A,M;z||(B=s(u,c),I=B.getContext("2d"),A=I.createImageData(u,c),M=A.data);var P=0,j={top:c,left:u,bottom:0,right:0},G=function(U,O){j.left=Math.min(U,j.left),j.right=Math.max(U,j.right),j.top=Math.min(O,j.top),j.bottom=Math.max(O,j.bottom)},Q=Date.now(),q;!!R&&H&&(u>R||c>R)&&(q=6);var N={r:0,g:0,b:0,a:0},L={r:0,g:0,b:0,a:0},ee=!1;Me(u,c,function(U,O){if(!ee&&!(q&&(O%q===0||U%q===0))){var V=(O*u+U)*4;if(!(!pe(N,d,V,1)||!pe(L,k,V,2))){var ve=dt(U,O,u,c,L);if(X){Z(N),Z(L),Ee(N,L)||!ve?z||Ie(M,V,L):(z||p(M,V,N,L),P++,G(U,O));return}if(_t(N,L)||!ve?z||vt(M,V,N):H&&(Z(N),Z(L),De(N,d,1,O,U,u)||De(L,k,2,O,U,u))&&(Ee(N,L)||!ve)?z||Ie(M,V,L):(z||p(M,V,N,L),P++,G(U,O)),z){var xt=P/(c*u)*100;xt>Se&&(ee=!0)}}}}),D.rawMisMatchPercentage=P/(c*u)*100,D.misMatchPercentage=D.rawMisMatchPercentage.toFixed(2),D.diffBounds=j,D.analysisTime=Date.now()-Q,D.getImageDataUrl=function(U){if(z)throw Error("No diff image available - ran in compareOnly mode");var O=0;return U&&(O=yt(U,I,B)),I.putImageData(A,0,O),B.toDataURL("image/png")},!z&&B.toBuffer&&(D.getBuffer=function(U){if(U){var O=B.width+2;B.width=O*3,I.putImageData(r,0,0),I.putImageData(i,O,0),I.putImageData(A,O*2,0)}else I.putImageData(A,0,0);return B.toBuffer()})}function yt(r,i,u){var c=2;i.font="12px sans-serif";var d=i.measureText(r).width+c*2,k=22;return d>u.width&&(u.width=d),u.height+=k,i.fillStyle="#666",i.fillRect(0,0,u.width,k-4),i.fillStyle="#fff",i.fillRect(0,k-4,u.width,4),i.fillStyle="#fff",i.textBaseline="top",i.font="12px sans-serif",i.fillText(r,c,1),k}function Re(r,i,u){var c,d;return r.height<u||r.width<i?(c=s(i,u),d=c.getContext("2d"),d.putImageData(r,0,0),d.getImageData(0,0,i,u)):r}function me(r){var i;if(r.errorColor)for(i in r.errorColor)r.errorColor.hasOwnProperty(i)&&(_[i]=r.errorColor[i]===void 0?_[i]:r.errorColor[i]);r.errorType&&h[r.errorType]&&(p=h[r.errorType],C=r.errorType),r.errorPixel&&typeof r.errorPixel=="function"&&(p=r.errorPixel),o=isNaN(Number(r.transparency))?o:r.transparency,r.largeImageThreshold!==void 0&&(R=r.largeImageThreshold),r.useCrossOrigin!==void 0&&(W=r.useCrossOrigin),r.boundingBox!==void 0&&(y=[r.boundingBox]),r.ignoredBox!==void 0&&(T=[r.ignoredBox]),r.boundingBoxes!==void 0&&(y=r.boundingBoxes),r.ignoredBoxes!==void 0&&(T=r.ignoredBoxes),r.ignoreAreasColoredWith!==void 0&&(E=r.ignoreAreasColoredWith)}function wt(r,i){a!==l&&me(a);function u(){var c,d;if(S.length===2){if(S[0].error||S[1].error){D={},D.error=S[0].error?S[0].error:S[1].error,he();return}c=S[0].width>S[1].width?S[0].width:S[1].width,d=S[0].height>S[1].height?S[0].height:S[1].height,S[0].width===S[1].width&&S[0].height===S[1].height?D.isSameDimensions=!0:D.isSameDimensions=!1,D.dimensionDifference={width:S[0].width-S[1].width,height:S[0].height-S[1].height},bt(Re(S[0],c,d),Re(S[1],c,d),c,d),he()}}S=[],_e(r,u),_e(i,u)}function Pe(r){var i,u=typeof r=="function";u||(i=r);var c={setReturnEarlyThreshold:function(d){return d&&(z=!0,Se=d),c},scaleToSameSize:function(){return de=!0,u&&r(),c},useOriginalSize:function(){return de=!1,u&&r(),c},ignoreNothing:function(){return x.red=0,x.green=0,x.blue=0,x.alpha=0,x.minBrightness=0,x.maxBrightness=255,H=!1,X=!1,u&&r(),c},ignoreLess:function(){return x.red=16,x.green=16,x.blue=16,x.alpha=16,x.minBrightness=16,x.maxBrightness=240,H=!1,X=!1,u&&r(),c},ignoreAntialiasing:function(){return x.red=32,x.green=32,x.blue=32,x.alpha=32,x.minBrightness=64,x.maxBrightness=96,H=!0,X=!1,u&&r(),c},ignoreColors:function(){return x.alpha=16,x.minBrightness=16,x.maxBrightness=240,H=!1,X=!0,u&&r(),c},ignoreAlpha:function(){return x.red=16,x.green=16,x.blue=16,x.alpha=255,x.minBrightness=16,x.maxBrightness=240,H=!1,X=!1,u&&r(),c},repaint:function(){return u&&r(),c},outputSettings:function(d){return me(d),c},onComplete:function(d){F.push(d);var k=function(){wt(m,i)};return k(),Pe(k)},setupCustomTolerance:function(d){for(var k in x)!d.hasOwnProperty(k)||(x[k]=d[k])}};return c}var Ue={onComplete:function(r){F.push(r),_e(m,function(i,u,c){gt(i.data,u,c)})},compareTo:function(r){return Pe(r)},outputSettings:function(r){return me(r),Ue}};return Ue};function v(m){return a=m,f}function w(m,o,_){switch(o){case"nothing":m.ignoreNothing();break;case"less":m.ignoreLess();break;case"antialiasing":m.ignoreAntialiasing();break;case"colors":m.ignoreColors();break;case"alpha":m.ignoreAlpha();break;default:throw new Error("Invalid ignore: "+o)}m.setupCustomTolerance(_)}return f.compare=function(m,o,_,b){var h,p;typeof _=="function"?(h=_,p={}):(h=b,p=_||{});var C=f(m),y;p.output&&C.outputSettings(p.output),y=C.compareTo(o),p.returnEarlyThreshold&&y.setReturnEarlyThreshold(p.returnEarlyThreshold),p.scaleToSameSize&&y.scaleToSameSize();var T=p.tolerance||{};typeof p.ignore=="string"?w(y,p.ignore,T):p.ignore&&p.ignore.forEach&&p.ignore.forEach(function(E){w(y,E,T)}),y.onComplete(function(E){E.error?h(E.error):h(null,E)})},f.outputSettings=v,f})});var lt=ae((mn,it)=>{var Kt=ot();it.exports=function(e,n,s){return new Promise((l,a)=>{Kt.compare(e,n,s,(f,v)=>{f?a(f):l(v)})})}});var ce,$,ze,At,te,Le,Dt,ie={},qe=[],It=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function J(t,e){for(var n in e)t[n]=e[n];return t}function Fe(t){var e=t.parentNode;e&&e.removeChild(t)}function g(t,e,n){var s,l,a,f={};for(a in e)a=="key"?s=e[a]:a=="ref"?l=e[a]:f[a]=e[a];if(arguments.length>2&&(f.children=arguments.length>3?ce.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)f[a]===void 0&&(f[a]=t.defaultProps[a]);return oe(t,f,s,l,null)}function oe(t,e,n,s,l){var a={type:t,props:e,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l??++ze};return l==null&&$.vnode!=null&&$.vnode(a),a}function ue(t){return t.children}function K(t,e){this.props=t,this.context=e}function ne(t,e){if(e==null)return t.__?ne(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?ne(t):null}function Ge(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Ge(t)}}function Ne(t){(!t.__d&&(t.__d=!0)&&te.push(t)&&!le.__r++||Le!==$.debounceRendering)&&((Le=$.debounceRendering)||setTimeout)(le)}function le(){for(var t;le.__r=te.length;)t=te.sort(function(e,n){return e.__v.__b-n.__v.__b}),te=[],t.some(function(e){var n,s,l,a,f,v;e.__d&&(f=(a=(n=e).__v).__e,(v=n.__P)&&(s=[],(l=J({},a)).__v=a.__v+1,be(v,a,l,n.__n,v.ownerSVGElement!==void 0,a.__h!=null?[f]:null,s,f??ne(a),a.__h),Xe(s,a),a.__e!=f&&Ge(a)))})}function Ve(t,e,n,s,l,a,f,v,w,m){var o,_,b,h,p,C,y,T=s&&s.__k||qe,E=T.length;for(n.__k=[],o=0;o<e.length;o++)if((h=n.__k[o]=(h=e[o])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?oe(null,h,null,null,h):Array.isArray(h)?oe(ue,{children:h},null,null,null):h.__b>0?oe(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)!=null){if(h.__=n,h.__b=n.__b+1,(b=T[o])===null||b&&h.key==b.key&&h.type===b.type)T[o]=void 0;else for(_=0;_<E;_++){if((b=T[_])&&h.key==b.key&&h.type===b.type){T[_]=void 0;break}b=null}be(t,h,b=b||ie,l,a,f,v,w,m),p=h.__e,(_=h.ref)&&b.ref!=_&&(y||(y=[]),b.ref&&y.push(b.ref,null,h),y.push(_,h.__c||p,h)),p!=null?(C==null&&(C=p),typeof h.type=="function"&&h.__k===b.__k?h.__d=w=Je(h,w,t):w=Ke(t,h,b,T,p,w),typeof n.type=="function"&&(n.__d=w)):w&&b.__e==w&&w.parentNode!=t&&(w=ne(b))}for(n.__e=C,o=E;o--;)T[o]!=null&&Qe(T[o],T[o]);if(y)for(o=0;o<y.length;o++)Ye(y[o],y[++o],y[++o])}function Je(t,e,n){for(var s,l=t.__k,a=0;l&&a<l.length;a++)(s=l[a])&&(s.__=t,e=typeof s.type=="function"?Je(s,e,n):Ke(n,s,s,l,s.__e,e));return e}function Ke(t,e,n,s,l,a){var f,v,w;if(e.__d!==void 0)f=e.__d,e.__d=void 0;else if(n==null||l!=a||l.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(l),f=null;else{for(v=a,w=0;(v=v.nextSibling)&&w<s.length;w+=1)if(v==l)break e;t.insertBefore(l,a),f=a}return f!==void 0?f:l.nextSibling}function $t(t,e,n,s,l){var a;for(a in n)a==="children"||a==="key"||a in e||se(t,a,null,n[a],s);for(a in e)l&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||n[a]===e[a]||se(t,a,e[a],n[a],s)}function je(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||It.test(e)?n:n+"px"}function se(t,e,n,s,l){var a;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof s=="string"&&(t.style.cssText=s=""),s)for(e in s)n&&e in n||je(t.style,e,"");if(n)for(e in n)s&&n[e]===s[e]||je(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=n,n?s||t.addEventListener(e,a?We:He,a):t.removeEventListener(e,a?We:He,a);else if(e!=="dangerouslySetInnerHTML"){if(l)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function He(t){this.l[t.type+!1]($.event?$.event(t):t)}function We(t){this.l[t.type+!0]($.event?$.event(t):t)}function be(t,e,n,s,l,a,f,v,w){var m,o,_,b,h,p,C,y,T,E,R,W,D,S,F,x=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(w=n.__h,v=e.__e=n.__e,e.__h=null,a=[v]),(m=$.__b)&&m(e);try{e:if(typeof x=="function"){if(y=e.props,T=(m=x.contextType)&&s[m.__c],E=m?T?T.props.value:m.__:s,n.__c?C=(o=e.__c=n.__c).__=o.__E:("prototype"in x&&x.prototype.render?e.__c=o=new x(y,E):(e.__c=o=new K(y,E),o.constructor=x,o.render=Pt),T&&T.sub(o),o.props=y,o.state||(o.state={}),o.context=E,o.__n=s,_=o.__d=!0,o.__h=[],o._sb=[]),o.__s==null&&(o.__s=o.state),x.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=J({},o.__s)),J(o.__s,x.getDerivedStateFromProps(y,o.__s))),b=o.props,h=o.state,_)x.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(x.getDerivedStateFromProps==null&&y!==b&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(y,E),!o.__e&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(y,o.__s,E)===!1||e.__v===n.__v){for(o.props=y,o.state=o.__s,e.__v!==n.__v&&(o.__d=!1),o.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(H){H&&(H.__=e)}),R=0;R<o._sb.length;R++)o.__h.push(o._sb[R]);o._sb=[],o.__h.length&&f.push(o);break e}o.componentWillUpdate!=null&&o.componentWillUpdate(y,o.__s,E),o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(b,h,p)})}if(o.context=E,o.props=y,o.__v=e,o.__P=t,W=$.__r,D=0,"prototype"in x&&x.prototype.render){for(o.state=o.__s,o.__d=!1,W&&W(e),m=o.render(o.props,o.state,o.context),S=0;S<o._sb.length;S++)o.__h.push(o._sb[S]);o._sb=[]}else do o.__d=!1,W&&W(e),m=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++D<25);o.state=o.__s,o.getChildContext!=null&&(s=J(J({},s),o.getChildContext())),_||o.getSnapshotBeforeUpdate==null||(p=o.getSnapshotBeforeUpdate(b,h)),F=m!=null&&m.type===ue&&m.key==null?m.props.children:m,Ve(t,Array.isArray(F)?F:[F],e,n,s,l,a,f,v,w),o.base=e.__e,e.__h=null,o.__h.length&&f.push(o),C&&(o.__E=o.__=null),o.__e=!1}else a==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Rt(n.__e,e,n,s,l,a,f,w);(m=$.diffed)&&m(e)}catch(H){e.__v=null,(w||a!=null)&&(e.__e=v,e.__h=!!w,a[a.indexOf(v)]=null),$.__e(H,e,n)}}function Xe(t,e){$.__c&&$.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(s){s.call(n)})}catch(s){$.__e(s,n.__v)}})}function Rt(t,e,n,s,l,a,f,v){var w,m,o,_=n.props,b=e.props,h=e.type,p=0;if(h==="svg"&&(l=!0),a!=null){for(;p<a.length;p++)if((w=a[p])&&"setAttribute"in w==!!h&&(h?w.localName===h:w.nodeType===3)){t=w,a[p]=null;break}}if(t==null){if(h===null)return document.createTextNode(b);t=l?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,b.is&&b),a=null,v=!1}if(h===null)_===b||v&&t.data===b||(t.data=b);else{if(a=a&&ce.call(t.childNodes),m=(_=n.props||ie).dangerouslySetInnerHTML,o=b.dangerouslySetInnerHTML,!v){if(a!=null)for(_={},p=0;p<t.attributes.length;p++)_[t.attributes[p].name]=t.attributes[p].value;(o||m)&&(o&&(m&&o.__html==m.__html||o.__html===t.innerHTML)||(t.innerHTML=o&&o.__html||""))}if($t(t,b,_,l,v),o)e.__k=[];else if(p=e.props.children,Ve(t,Array.isArray(p)?p:[p],e,n,s,l&&h!=="foreignObject",a,f,a?a[0]:n.__k&&ne(n,0),v),a!=null)for(p=a.length;p--;)a[p]!=null&&Fe(a[p]);v||("value"in b&&(p=b.value)!==void 0&&(p!==t.value||h==="progress"&&!p||h==="option"&&p!==_.value)&&se(t,"value",p,_.value,!1),"checked"in b&&(p=b.checked)!==void 0&&p!==t.checked&&se(t,"checked",p,_.checked,!1))}return t}function Ye(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(s){$.__e(s,n)}}function Qe(t,e,n){var s,l;if($.unmount&&$.unmount(t),(s=t.ref)&&(s.current&&s.current!==t.__e||Ye(s,null,e)),(s=t.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(a){$.__e(a,e)}s.base=s.__P=null,t.__c=void 0}if(s=t.__k)for(l=0;l<s.length;l++)s[l]&&Qe(s[l],e,n||typeof t.type!="function");n||t.__e==null||Fe(t.__e),t.__=t.__e=t.__d=void 0}function Pt(t,e,n){return this.constructor(t,n)}function ye(t,e,n){var s,l,a;$.__&&$.__(t,e),l=(s=typeof n=="function")?null:n&&n.__k||e.__k,a=[],be(e,t=(!s&&n||e).__k=g(ue,null,[t]),l||ie,ie,e.ownerSVGElement!==void 0,!s&&n?[n]:l?null:e.firstChild?ce.call(e.childNodes):null,a,!s&&n?n:l?l.__e:e.firstChild,s),Xe(a,t)}ce=qe.slice,$={__e:function(t,e,n,s){for(var l,a,f;e=e.__;)if((l=e.__c)&&!l.__)try{if((a=l.constructor)&&a.getDerivedStateFromError!=null&&(l.setState(a.getDerivedStateFromError(t)),f=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(t,s||{}),f=l.__d),f)return l.__E=l}catch(v){t=v}throw t}},ze=0,At=function(t){return t!=null&&t.constructor===void 0},K.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=J({},this.state),typeof t=="function"&&(t=t(J({},n),this.props)),t&&J(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ne(this))},K.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ne(this))},K.prototype.render=ue,te=[],le.__r=0,Dt=0;var ft=Et(lt());var Xt=document.querySelector("#container"),ke=class extends K{constructor(e){super(e),this.setState({color:e.colors[0],radius:e.radii[0]})}componentDidUpdate(){this.props.updater(this.state.color,this.state.radius)}render(){let e=[];for(let a of this.props.colors)e.push(g("td",{class:"pr-1"},g("div",{onClick:()=>{this.setState({color:a})},class:"rounded-md",style:{width:"60px",height:"60px",backgroundColor:a,border:this.state.color==a?"2px solid red":"2px solid black",cursor:"pointer"}})));let n=[];n.push(g("td",{class:"pr-1"},g("div",{onClick:()=>{let a=document.querySelector("#canvas"),f=a.getContext("2d");f.rect(0,0,a.getAttribute("width"),a.getAttribute("height")),f.fillStyle=this.state.color,f.fill()},class:"flex items-center justify-center rounded-md",style:{width:"60px",height:"60px",backgroundColor:this.state.color,border:"1px solid black",cursor:"pointer"}},g("svg",{width:"40",height:"40",viewBox:"-1 0 16 16",xmlns:"http://www.w3.org/2000/svg"},g("path",{fill:"#fff",stroke:"#000","stroke-width":"0.5",d:"M6.192 2.78c-.458-.677-.927-1.248-1.35-1.643a2.972 2.972 0 0 0-.71-.515c-.217-.104-.56-.205-.882-.02c-.367.213-.427.63-.43.896c-.003.304.064.664.173 1.044c.196.687.556 1.528 1.035 2.402L.752 8.22c-.277.277-.269.656-.218.918c.055.283.187.593.36.903c.348.627.92 1.361 1.626 2.068c.707.707 1.441 1.278 2.068 1.626c.31.173.62.305.903.36c.262.05.64.059.918-.218l5.615-5.615c.118.257.092.512.05.939c-.03.292-.068.665-.073 1.176v.123h.003a1 1 0 0 0 1.993 0H14v-.057a1.01 1.01 0 0 0-.004-.117c-.055-1.25-.7-2.738-1.86-3.494a4.322 4.322 0 0 0-.211-.434c-.349-.626-.92-1.36-1.627-2.067c-.707-.707-1.441-1.279-2.068-1.627c-.31-.172-.62-.304-.903-.36c-.262-.05-.64-.058-.918.219l-.217.216zM4.16 1.867c.381.356.844.922 1.311 1.632l-.704.705c-.382-.727-.66-1.402-.813-1.938a3.283 3.283 0 0 1-.131-.673c.091.061.204.15.337.274zm.394 3.965c.54.852 1.107 1.567 1.607 2.033a.5.5 0 1 0 .682-.732c-.453-.422-1.017-1.136-1.564-2.027l1.088-1.088c.054.12.115.243.183.365c.349.627.92 1.361 1.627 2.068c.706.707 1.44 1.278 2.068 1.626c.122.068.244.13.365.183l-4.861 4.862a.571.571 0 0 1-.068-.01c-.137-.027-.342-.104-.608-.252c-.524-.292-1.186-.8-1.846-1.46c-.66-.66-1.168-1.32-1.46-1.846c-.147-.265-.225-.47-.251-.607a.573.573 0 0 1-.01-.068l3.048-3.047zm2.87-1.935a2.44 2.44 0 0 1-.241-.561c.135.033.324.11.562.241c.524.292 1.186.8 1.846 1.46c.45.45.83.901 1.118 1.31a3.497 3.497 0 0 0-1.066.091a11.27 11.27 0 0 1-.76-.694c-.66-.66-1.167-1.322-1.458-1.847z"})))));for(let a of this.props.radii)n.push(g("td",null,g("div",{class:`rounded-md flex items-center cursor-pointer justify-center ${this.state.radius==a?"bg-green-200":"bg-grey-200"}`,style:{minWidth:"60px",minHeight:"60px"},onClick:()=>{this.setState({radius:a})}},g("div",{style:{width:`${a*2}px`,height:`${a*2}px`,backgroundColor:this.state.color,border:"2px solid black",borderRadius:"100000px"}}))));return g("div",{class:"flex flex-col items-center"},g("div",null,g("table",{class:"mt-1"},g("tbody",null,g("tr",null,e)))),g("div",null,g("table",{class:"mt-1"},g("tbody",null,g("tr",null,n)))))}};function Yt(t){let e=t.colors,n=!1,s=null;e=e.map(C=>`#${C}`);let l=e[0],a=[5,10,25],f=a[0],v=t.width,w=t.height,m=null,o=(C,y)=>{C.beginPath(),C.arc(y.x,y.y,y.radius,0,2*Math.PI,!1),C.fillStyle=y.color,C.fill()},_=C=>{let y=C.target;C.stopPropagation(),C.preventDefault();let T=y.getContext("2d");s=y.getBoundingClientRect();let E=C.x-s.x,R=C.y-s.y;o(T,{x:E,y:R,radius:f,color:l}),m=[E,R],n=!0},b=C=>{if(!n)return;C.stopPropagation(),C.preventDefault();let y=null,T=null;if(C instanceof TouchEvent){let W=C.targetTouches[0];y=W.clientX-s.x,T=W.clientY-s.y}else y=C.x-s.x,T=C.y-s.y;let R=C.target.getContext("2d");m!==null&&(R.beginPath(),R.moveTo(m[0],m[1]),R.lineTo(y,T),R.lineWidth=f*2,R.strokeStyle=l,R.stroke()),o(R,{x:y,y:T,radius:f,color:l}),m=[y,T]},h=C=>{n=!1};return document.body.addEventListener("mouseup",h),document.body.addEventListener("touchend",h),g("div",{class:"mt-2"},g("canvas",{width:v,height:w,id:"canvas",style:"border: 1px solid black; margin: 0 auto;",onMouseDown:_,onMouseMove:b,onTouchStart:_,onTouchMove:b}),g(ke,{colors:e,radii:a,updater:(C,y)=>{l=C,f=y}}))}async function Qt(t,e,n){let s=new Image;s.src=`/compare-flags/${t}-flag-150px.png`,await s.decode();let l=document.createElement("canvas");l.width=s.width,l.height=s.height,l.getContext("2d").drawImage(s,0,0);let f=await(0,ft.default)(l.toDataURL(),e.toDataURL(),{scaleToSameSize:!0,tolerance:{alpha:100}});return{name:t,similarityPercent:100-f.misMatchPercentage}}function Zt(t){function e(){let n=Math.sin(t++)*1e4;return n-Math.floor(n)}return e}function en(t){var e=0,n,s;if(t.length===0)return e;for(n=0;n<t.length;n++)s=t.charCodeAt(n),e=(e<<5)-e+s,e|=0;return e}function tn(t){let e=Object.keys(t),n=new Date,s=en(n.toDateString()),l=Zt(s),a=Math.floor(l()*e.length);return e[a]}async function nn(t){let e=t.map(a=>[a,`/data/${a}/flag.svg`]),n=document.querySelector("#canvas"),s=[];for(let[a,f]of e)s.push(Qt(a,n,f));let l=await Promise.all(s);return l=l.sort((a,f)=>f.similarityPercent-a.similarityPercent),l}var Ce=class extends K{constructor(e){super(e),this.state={status:"none"}}render(){let e=null;return this.state.status==="checking"?e=g("p",null,"Checking..."):e=g("button",{class:"btn btn-outline btn-secondary",onClick:async()=>{this.setState({status:"checking"}),await fn(this.props.data,this.props.country,this.props.countryData),this.setState({status:"none"})}},"Submit"),g("div",{class:"mt-2"},e)}},rn=["Oopsie doopsie","Not quite","Whoopsie daisy!"],an=["Great job"];function st(t){return t[Math.floor(Math.random()*t.length)]}function on(t,e){let n=[];n.push(g("tr",null,g("td",null,g("div",{class:"mr-4"},"Name")),g("td",null,t.name?"\u2705":t.name===null?"\u2754":"\u274C"))),n.push(g("tr",null,g("td",null,g("div",{class:"mr-4"},"Capital")),g("td",null,t.capital?"\u2705":t.capital===null?"\u2754":"\u274C"))),n.push(g("tr",null,g("td",null,g("div",{class:"mr-4"},"Flag")),g("td",null,t.flag?"\u2705":t.flag===null?"\u2754":"\u274C")));let s=null,l=t.name&&t.flag&&t.capital;l?s=`How about that! I guessed right after ${t.num_attempts} ${t.num_attempts===1?"try":"tries"} on today's Coucapag!`:s=`Uh oh! I'm stumped after ${t.num_attempts} ${t.num_attempts===1?"try":"tries"} on today's Coucapag! Maybe you can help me?`;let a=null;l||(a=g("button",{onClick:()=>{ln()},class:"btn mt-4"},"Try Again"));let f=(_,b)=>b!==1?_+"s":_,v=null,w=new Date().toLocaleDateString();l?v=`Correct in ${t.num_attempts} ${f("attempt",t.num_attempts)} on ${w}!`:v=`${t.num_attempts} ${f("attempt",t.num_attempts)} so far on ${w} :(`;let m=null;l&&(m=g("div",{class:"mt-4"},g("img",{width:"200",src:`/data/${e}/flag.svg`})));let o=g("div",{id:"modal-popup",class:"py-10 flex flex-col items-center justify-center w-80 max-w-md bg-slate-700 text-center text-white border-2 rounded-lg shadow-2xl drop-shadow-2xl"},g("div",null,g("span",{style:"font-family: Helvetica, sans-serif",class:"mt-10 bg-slate-100 p-2 text-black text-4xl rounded-xl"},st(l?an:rn),"!")),g("div",{class:"mt-4"},v),g("div",{class:"mt-4"},g("table",null,g("tbody",null,n))),g("div",null,a),g("div",null,g("button",{onClick:()=>{cn(s+`

https://coucapags.whatscookin.biz/`)},class:"btn mt-4"},g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 16 16"},g("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"},g("circle",{cx:"4",cy:"8",r:"2.25"}),g("circle",{cx:"12",cy:"12",r:"2.25"}),g("circle",{cx:"12",cy:"4",r:"2.25"}),g("path",{d:"m6 9l4 2M6 7l4-2"})))," ",l?"Share":"Give Up"),m));ye(o,document.querySelector("#error-modal"))}function ln(){document.querySelector("#error-modal").innerHTML=""}function sn(t){var e=document.createElement("textarea");e.value=t,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{var n=document.execCommand("copy"),s=n?"successful":"unsuccessful"}catch(l){console.error(l)}document.body.removeChild(e)}function cn(t){let e="https://coucapags.whatscookin.biz/";navigator.share?navigator.share({title:e,text:t}).then(()=>console.log("Successful share")).catch(n=>console.log("Error sharing",n)):(console.log("Sharing",e),sn(t),alert("Copied to clipboard!"))}function un(t,e){let n=[" ","'","\u02BB","."];t=t.toLowerCase(),e=e.toLowerCase();for(let l of n)t=t.replaceAll(l,""),e=e.replaceAll(l,"");let s={\u00E9:["e"],\u00F3:["o"],\u0103:["a"],\u0219:["s"],\u00ED:["i"]};if(t.length!==e.length)return!1;for(let l=0;l<t.length;l++){let a=t.charAt(l),f=e.charAt(l);if(a!==f){let v=s[a];if(!v||!v.includes(f))return!1}}return!0}function ct(t,e){for(let n of e)if(un(n,t))return!0;return!1}function ut(){return`num_attempts_${new Date().toLocaleDateString()}`}async function fn(t,e,n){let s=Object.keys(t),l=document.querySelector("#country-name").value,a=document.querySelector("#country-capital").value,f=localStorage.getItem(ut());f==null&&(f=0),f=parseInt(f);let v=f+1;localStorage.setItem(ut(),v);let w={name:null,capital:null,flag:null,num_attempts:v};if(w.name=ct(l,n.names),w.capital=ct(a,n.capitals),w.name&&w.capital){let m=await nn(s),_=m.slice(0,4).map(h=>h.name).includes(e)?e:m[0].name;console.log(m.slice(0,10).map(h=>h.name));let b=m.slice(0,4).map(h=>h.name).includes(e);w.flag=b}on(w,e)}async function dn(){let e=await(await fetch("/data/countries.json")).json(),s=await(await fetch("/colors.json")).json(),l=tn(s),a=s[l],f=new Image;f.src=`/data/${l}/flag.svg`,f.onload=()=>{let v=f.height,w=f.width,o=150/v;v=v*o,w=w*o,ye(g("div",{class:"flex justify-center flex-col items-center"},g("img",{class:"noselect w-60",src:`/data/${l}/outline.svg`}),g("div",{class:"w-full flex items-center flex-col px-4"},g("div",{class:"mb-2 w-full"},g("span",{class:"font-bold block"},"Name"),g("input",{class:"mt-2 input input-bordered input-primary w-full",type:"text",id:"country-name"})),g("div",{class:"mb-2 w-full"},g("span",{class:"font-bold block"},"Capital"),g("input",{class:"mt-2 input input-bordered input-primary w-full",type:"text",id:"country-capital"}))),g("div",{class:"w-full"},g("span",{class:"px-4 font-bold block"},"The Flag")),g("div",null,Yt({width:w,height:v,colors:a})),g(Ce,{data:s,country:l,countryData:e[l]})),Xt)}}dn();})();
